{"asyncapi":"2.5.0","info":{"title":"Duck Hunt","description":"Duck Hunt server","version":"1.0","contact":{}},"tags":[],"servers":{"duck-hunt-ws":{"url":"ws://localhost:3001","protocol":"socket.io"}},"components":{"securitySchemes":{"user-password":{"type":"userPassword"}},"schemas":{"GameStartPayload":{"type":"object","properties":{"timestamp":{"type":"number"}},"required":["timestamp"]},"RoundMessagePathCoordinates":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"}},"required":["x","y"]},"DuckHuntPathDirection":{"type":"string","enum":["left2Right","right2Left"]},"RoundMessagePath":{"type":"object","properties":{"start":{"$ref":"#/components/schemas/RoundMessagePathCoordinates"},"end":{"$ref":"#/components/schemas/RoundMessagePathCoordinates"},"direction":{"allOf":[{"$ref":"#/components/schemas/DuckHuntPathDirection"}]},"speed":{"type":"number"}},"required":["start","end","direction","speed"]},"RoundStartedEndedMessage":{"type":"object","properties":{"roundId":{"type":"string"},"startedAt":{"type":"number"},"endsAt":{"type":"number"},"ended":{"type":"boolean"},"path":{"$ref":"#/components/schemas/RoundMessagePath"}},"required":["roundId","startedAt","endsAt","ended","path"]},"GameStatsMessage":{"type":"object","properties":{"rounds":{"type":"number"},"hits":{"type":"number"}},"required":["rounds","hits"]},"DuckHitPayload":{"type":"object","properties":{"roundId":{"type":"string","description":"The round ID","example":"123"}},"required":["roundId"]},"DuckHuntRoundEndReason":{"type":"string","enum":["hit","timeout","late","alreadyEnded","noActiveRound"]},"HitConfirmedRejectedMessage":{"type":"object","properties":{"roundId":{"type":"string"},"reason":{"allOf":[{"$ref":"#/components/schemas/DuckHuntRoundEndReason"}]}},"required":["roundId","reason"]}}},"defaultContentType":"application/json","channels":{"duck-hunt/game/start":{"publish":{"message":{"payload":{"$ref":"#/components/schemas/GameStartPayload"},"name":"DuckHuntInitGateway#onGameStart"}}},"duck-hunt/round/start":{"subscribe":{"message":{"payload":{"$ref":"#/components/schemas/RoundStartedEndedMessage"},"name":"DuckHuntInitGateway#roundStart"}}},"duck-hunt/round/end":{"subscribe":{"message":{"payload":{"$ref":"#/components/schemas/RoundStartedEndedMessage"},"name":"DuckHuntInitGateway#roundEnd"}}},"duck-hunt/game/stats":{"subscribe":{"message":{"payload":{"$ref":"#/components/schemas/GameStatsMessage"},"name":"DuckHuntInitGateway#gameStats"}}},"duck-hunt/duck/hit":{"publish":{"message":{"payload":{"$ref":"#/components/schemas/DuckHitPayload"},"name":"DuckHuntInitGateway#onHit"}}},"duck-hunt/hit/confirmed":{"subscribe":{"message":{"payload":{"$ref":"#/components/schemas/HitConfirmedRejectedMessage"},"name":"DuckHuntInitGateway#hitConfirmed"}}},"duck-hunt/hit/rejected":{"subscribe":{"message":{"payload":{"$ref":"#/components/schemas/HitConfirmedRejectedMessage"},"name":"DuckHuntInitGateway#hitRejected"}}}}}